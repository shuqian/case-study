文件说明：

/01 - /09 	//分别是步骤1-9的代码；
/DB			//数据库Model类
/lib		//Smarty模板引擎类



租租车PHP工程师招聘机试题（21号）

机试题注意事项：
1.	本电脑已配置了PHP运行环境和Mysql数据库，你可在C:/web目录调试你的程序。
2.	电脑桌面有开发所需的PHP编辑器、PHP手册、Mysql数据库管理软件。
3.	笔试期间可以上网查阅资料，笔试时间无限制


你的工作目录和访问URL：
工作目录：C:/web/你的姓名拼音/
工作URL：http://127.0.0.1/你的姓名拼音/
（你所创建的PHP文件均保存在工作目录，）


题目概述：
请使用PHP采集新浪2014年中超赛季球员射门排行榜，保存到本地数据库，并按要求查询出来显示在页面上。

2014年中超赛季球员射门排行榜网址：
http://match.sports.sina.com.cn/football/csl/opta_rank.php?item=shoot&year=2014&lid=8&type=1&dpc=1


以下步骤请在同一个PHP文件内完成，文件需自行创建。

步骤1：使用PHP自带函数获取排行榜页面的完整HTML内容，保存在工作目录，命名为shoot.html。
（可选进阶操作：尽量伪装成用户浏览器行为，避免被新浪发现是采集程序）
（提示： 如无法完成本步骤，可复制C:/web/data/shoot.html到你的工作目录内，以完成后续步骤）

步骤2：使用PHP自带函数读取shoot.html的内容，并使用正则表达式匹配出这50个球员的所有数据（排名、姓名、球队、射门数、左脚、右脚、头球、其它部位），保存到一个二维数组$shoot_arr。
（提示：$shoot_arr数组格式如下。如无法完成本步骤，可复制C:/web/data/shoot.php内的PHP代码到你的程序中得到结果，以完成后续步骤）

步骤3：随机打乱所有球员数据（$shoot_arr）排列顺序，取出打乱顺序后前3个球员的数据保存到数组$rand_top3_arr（数组结构与$shoot_arr相同，键值从0开始）。
（提示：如无法完成本步骤，可跳过）

步骤4：遍历所有球员数据（$shoot_arr），取出左脚射门次数在10至50之间的球员数据，并按照左脚射门次数从高到低排列，保存到数组$left_10to50_arr（数组结构与$shoot_arr相同，键值从0开始）。
（提示：如无法完成本步骤，可跳过）

步骤5：使用电脑桌面上的SQLyog数据库管理软件连接Mysql数据库，在test_db中创建数据表shoot_tbl，用于保存后续步骤保存$shoot_arr。
（提示：数据库账号：test密码：test。shoot_tbl请考虑是否需要添加索引。如无法完成本步骤，请复制C:/web/data/create_table.sql的内容在SQLyog中运行）


步骤6：在PHP程序中将$shoot_arr的数据保存到上一步骤建立的shoot_tbl，要求一个球员为一条记录，一个属性为一个字段。
（提示：可调用C:/web/include/mysql.inc.php操作数据库，也可自行编写操作数据库的代码。）


步骤7：在PHP程序中使用SQL语句查询出上榜球员最多的前5个球队和对应的球员数，保存到数组$top_team5中。
（提示：如无法完成本步骤，可跳过）


步骤8：写一个Class，该Class的构造函数传入参数$shoot_arr，返回一个重新排序的数组（数组结构与$shoot_arr相同，键值从0开始）。实例化并执行该Class，将结果保存到$sort_arr。排序规则如下：
1.	所有球员按左脚射门次数从高到低排列
2.	左脚射门次数相同的，再以右脚射门次数从高到低排序
3.	左右脚射门次数均相同的，再以头球次数从高到低排序
（提示：如无法完成本步骤，可跳过）



步骤9：C:/web/include/class.quickskin.php是Quickskin模板引擎，在PHP中调用该Class，使用下图样式输出模板，将$shoot_arr、$rand_top3_arr、$left_10to50_arr、$top_team5、$sort_arr等数据输出。
（提示：Quickskin的使用方法可以自行上网搜索学习）